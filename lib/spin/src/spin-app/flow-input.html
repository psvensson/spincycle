<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../spin-client/spin-client.html">
<link rel="import" href="../spin-client/spin-admin.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tab.html">
<link rel="import" href="../bower_components/neon-animation/neon-animated-pages.html">
<link rel="import" href="../bower_components/neon-animation/neon-animatable.html">
<link rel="import" href="../bower_components/neon-animation/neon-animations.html">

<dom-module id="flow-input">
    <template>
        <style>
            :host {
                display: block;
            }
        </style>

    </template>

    <script>
			// {name: 'qqqq', destinationModule: 'yyyy', destinationFunction: 'zzzz'}
			Polymer( {

				is: 'flow-input',

				properties: {
					ctx:         {type: Object, observer: 'onStuff'},
					connection:  {type: Object, observer: 'onStuff'},
					basex:       {type: Number, value: 10},
					basey:       {type: Number, value: 10},
					gap:         {type: Number, value: 5},
									textoffset:         {type: Number, value: 15},
            /*
             name:                   {type: String, notify: true, observer: 'onStuff'},
             destinationModule:      {type: String, notify: true, observer: 'onStuff'},
             destinationFunction:    {type: String, notify: true},
             */
					height:      {type: Number, value: 40},
					width:       {type: Number, value: 140},
					strokeStyle: {type: String, value: 'red'},
									textoffsetx:{type:Number, value: 5},
									textoffsety:{type:Number, value: 25},
				},

				onStuff: function ()
				         {
					         if (this.ctx && this.connection)
					         {
						         console.log( 'drawing input ' )
						         this.ctx.lineWidth = 1
						         this.ctx.strokeStyle = this.strokeStyle
						         this.ctx.fillStyle = this.strokeStyle
						         var x = this.basex
						         var y = this.basey + (this.connection.index * this.height) + this.gap
						         this.ctx.strokeRect( x, y, this.width, this.height )
						         this.ctx.fillStyle = 'black'
                                 this.ctx.font = "16px Courier";
						         this.ctx.fillText( this.connection.name, x+ this.textoffsetx , y+ this.textoffsety )
					         }
				         }


			} );
    </script>
</dom-module>
